<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Unmark.Benchmarks.html">
<link rel="Up" href="Unmark.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Unmark" rel="Chapter" href="Unmark.html">
<link title="Unmark_cli" rel="Chapter" href="Unmark_cli.html">
<link title="Unmark_papi" rel="Chapter" href="Unmark_papi.html"><link title="Estimators" rel="Section" href="#estimators">
<title>Unmark.Estimate</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Unmark.Benchmarks.html" title="Unmark.Benchmarks">Previous</a>
&nbsp;<a class="up" href="Unmark.html" title="Unmark">Up</a>
&nbsp;</div>
<h1>Module <a href="type_Unmark.Estimate.html">Unmark.Estimate</a></h1>

<pre><span id="MODULEEstimate"><span class="keyword">module</span> Estimate</span>: <code class="code"><span class="keyword">sig</span></code> <a href="Unmark.Estimate.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
<div class="info-desc">
<p>Deepest numerology.</p>
</div>
</div>
<hr width="100%">

<pre><span id="TYPEestimator"><span class="keyword">type</span> <code class="type"></code>estimator</span> = <code class="type">float array -> float array -> <a href="Unmark.Estimate.html#TYPEe">e</a></code> </pre>
<div class="info ">
<div class="info-desc">
<p><code class="code">estimator&nbsp;xs&nbsp;ys</code> is an estimate of the <em>true</em> value of dependent <code class="code">ys</code>,
      given independent <code class="code">xs</code>.</p>
</div>
</div>


<pre><code><span id="TYPEe"><span class="keyword">type</span> <code class="type"></code>e</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTe.a">a</span>&nbsp;: <code class="type">float</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTe.b">b</span>&nbsp;: <code class="type">float</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTe.r2">r2</span>&nbsp;: <code class="type">float</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTe.bounds">bounds</span>&nbsp;: <code class="type">(float * float) Stdlib.Lazy.t</code>;</code></td>

</tr></table>
}

<div class="info ">
<div class="info-desc">
<p>A linear estimate, modeling the dependent variable as <code class="code"><span class="constructor">Y</span>&nbsp;=&nbsp;a&nbsp;+&nbsp;bX</code>.</p>

<p><code class="code">r2</code> is
      <a href=" https://en.wikipedia.org/wiki/Coefficient_of_determination"><code class="code">R²</code></a> of the
      fit.</p>

<p><code class="code">bounds</code> are the 99%
      <a href=" https://en.wikipedia.org/wiki/Confidence_interval">confidence interval</a>
      for <code class="code">b</code>.</p>
</div>
</div>


<pre><span id="VALpp_e"><span class="keyword">val</span> pp_e</span> : <code class="type"><a href="Unmark.Estimate.html#TYPEe">e</a> <a href="Unmark.html#TYPEfmt">Unmark.fmt</a></code></pre><div class="info ">
<div class="info-desc">
<p>Pretty-prints <a href="Unmark.Estimate.html#TYPEe"><code class="code">e</code></a>.</p>
</div>
</div>

<pre><span id="VALvalidity"><span class="keyword">val</span> validity</span> : <code class="type"><a href="Unmark.Estimate.html#TYPEe">e</a> -> [ `Bad | `Good | `Meh | `Undef ]</code></pre><div class="info ">
<div class="info-desc">
<p>Gives an interpretation of <code class="code">e</code>'s validity. One of:</p>

<ul>
<li><code class="code"><span class="keywordsign">`</span><span class="constructor">Good</span></code> - <code class="code">e</code> describes the data extremely well.</li>
<li><code class="code"><span class="keywordsign">`</span><span class="constructor">Meh</span></code> - <code class="code">e</code> should be further investigated. It does not fully describe
      the data.</li>
<li><code class="code"><span class="keywordsign">`</span><span class="constructor">Bad</span></code> - <code class="code">e</code> is likely meaningless. It poorly describes the data.</li>
<li><code class="code"><span class="keywordsign">`</span><span class="constructor">Undef</span></code> - <code class="code">e</code> is not defined over the data.</li>
</ul>

<p><code class="code">e</code> can fail to describe the data for reasons ranging from successfully
      filtering out the noise, to data being non-linear and <code class="code">e</code> being completely
      meaningless. Rules of thumb:</p>

<ul>
<li>More samples should improve validity.</li>
<li>If <code class="code">b</code> stays stable over repreated runs, the measurement is noisy, but
      the estimate is good.</li>
</ul>

<p><code class="code">e</code> is most commonly undefined when the data is all-0, in which case <code class="code">0</code>
      is still a good summary of it.</p>

<p><code class="code">validity</code> is currently implemented by checking <code class="code">R²</code>.
      <code class="code"><span class="keywordsign">`</span><span class="constructor">Undef</span></code> is <code class="code">R² = 0</code>,
      <code class="code"><span class="keywordsign">`</span><span class="constructor">Bad</span></code> is <code class="code">0 < R² < 0.9</code>,
      and <code class="code"><span class="keywordsign">`</span><span class="constructor">Meh</span></code> is <code class="code">0.9 <= R² < 0.98</code>.</p>
</div>
</div>
<h2 id="estimators">Estimators</h2>
<pre><span id="VALols"><span class="keyword">val</span> ols</span> : <code class="type"><a href="Unmark.Estimate.html#TYPEestimator">estimator</a></code></pre><div class="info ">
<div class="info-desc">
<p><a href=" http://mathworld.wolfram.com/LeastSquaresFitting.html">
      Ordinary Least Squares</a> is the usual linear regression that minimizes
      average squared residuals (and maximizes <code class="code">R²</code>).</p>

<p>OLS assumptions are somewhat violated by the benchmarking procedure: the
      errors have a heavy positive tail (instead of being normally distributed),
      and their variance grows with the number of iterations (instead of being
      independent of <code class="code"><span class="constructor">X</span></code>). As a result, the estimates are overly affected by
      noise and tend to have less stability across runs, while the confidence
      intervals tend to be too narrow to predict this instability.</p>

<p>On the upside, OLS is quick to compute, well known, and readily
      interpretable.</p>
</div>
</div>

<pre><span id="VALtse"><span class="keyword">val</span> tse</span> : <code class="type"><a href="Unmark.Estimate.html#TYPEestimator">estimator</a></code></pre><div class="info ">
<div class="info-desc">
<p><a href=" https://en.wikipedia.org/wiki/Theil%E2%80%93Sen_estimator">
      Theil–Sen Estimator</a> is an order-based linear regression.</p>

<p>It is robust in that the result is unaffected by even a relatively large
      proportion of outliers. This means that TSE is less affected by the
      measurement noise, and has good stability across runs.</p>

<p>Note that by design, TSE does not maximize <code class="code">R²</code>. This can lead to perfectly
      good estimates having a lower <code class="code">R²</code>, or being flagged with having poor
      <a href="Unmark.Estimate.html#VALvalidity"><code class="code">validity</code></a>.</p>

<p>TSE is the default estimator in Unmark.</p>
</div>
</div>
</body></html>
